{"version":3,"sources":["../src/textlint-fixer.js"],"names":[],"mappings":";AACA,YAAY,CAAC;;;;;;;;;;;kBACO,IAAI;;IAAZ,EAAE;;;;;AAKd,SAAS,eAAe,CAAC,MAAM,EAAE;AAC7B,QAAM,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC;AACvC,QAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAC7B,MAAE,CAAC,aAAa,CAAC,cAAc,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;CACrD;AACD,SAAS,cAAc,CAAC,OAAO,EAAE;AAC7B,QAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE;AACzC,eAAO,OAAO,CAAC;KAClB,MAAM;AACH,eAAO,SAAS,CAAC;KACpB;CACJ;AACD,SAAS,MAAM,CAAC,OAAO,EAAE;;AAErB,QAAI,MAAM,EAAE,KAAK,CAAC;AAClB,UAAM,GAAG,EAAE,CAAC;AACZ,SAAK,GAAG,CAAC,CAAC;;AAEV,WAAO,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;;AAE9B,YAAI,QAAQ,GAAG,MAAM,CAAC,gBAAgB,CAAC;AACvC,aAAK,IAAI,QAAQ,CAAC,MAAM,CAAC;;AAEzB,gBAAQ,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE;AAChC,kBAAM,IAAI,QAAQ,CAAC;AACnB,kBAAM,IAAI,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;AACjC,kBAAM,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,CAAA,AAAC,CAAC;AACxC,kBAAM,IAAI,QAAQ,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,CAAA,AAAC,CAAC;AAC3C,kBAAM,IAAI,IAAI,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC;AACzC,kBAAM,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;AAClC,kBAAM,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC;AAC5D,kBAAM,IAAI,IAAI,CAAC;SAElB,CAAC,CAAC;KAEN,CAAC,CAAC;;AAEH,QAAI,KAAK,GAAG,CAAC,EAAE;AACX,cAAM,IAAI,IAAI,GAAG,KAAK,GAAG,UAAU,IAAI,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAA,AAAC,CAAC;KAClE;;AAED,WAAO,MAAM,CAAC;CACjB;;IACoB,aAAa;;;;;;AAKnB,aALM,aAAa,CAKlB,OAAO,EAAE;8BALJ,aAAa;;AAM1B,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAC1B;;iBAPgB,aAAa;;eASjB,yBAAG;AACZ,mBAAO,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC/B;;;eAEI,iBAAG;AACJ,gBAAI,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;AACtC,mBAAO,IAAI,CAAC;SACf;;;WAhBgB,aAAa;;;qBAAb,aAAa","file":"textlint-fixer.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nimport * as fs from \"fs\";\n\n/**\n * @param {TextLintResult} result\n */\nfunction overWriteResult(result) {\n    const targetFilePath = result.filePath;\n    const output = result.output;\n    fs.writeFileSync(targetFilePath, output, \"utf-8\");\n}\nfunction getMessageType(message) {\n    if (message.fatal || message.severity === 2) {\n        return \"Error\";\n    } else {\n        return \"Warning\";\n    }\n}\nfunction format(results) {\n\n    var output, total;\n    output = \"\";\n    total = 0;\n\n    results.forEach(function (result) {\n\n        var messages = result.applyingMessages;\n        total += messages.length;\n\n        messages.forEach(function (message) {\n            output += \"Fixedâœ”\";\n            output += result.filePath + \": \";\n            output += \"line \" + (message.line || 0);\n            output += \", col \" + (message.column || 0);\n            output += \", \" + getMessageType(message);\n            output += \" - \" + message.message;\n            output += message.ruleId ? \" (\" + message.ruleId + \")\" : \"\";\n            output += \"\\n\";\n\n        });\n\n    });\n\n    if (total > 0) {\n        output += \"\\n\" + total + \" problem\" + (total !== 1 ? \"s\" : \"\");\n    }\n\n    return output;\n}\nexport default class TextLintFixer {\n    /**\n     *\n     * @param {TextLintResult[]}results\n     */\n    constructor(results) {\n        this.results = results;\n    }\n\n    formatResults() {\n        return format(this.results);\n    }\n\n    write() {\n        this.results.forEach(overWriteResult);\n        return true;\n    }\n}"]}